syntax = "proto3";

package log;

option go_package = "github.com/willrabalais/terminalLog/api/gen/log;log";

message LogEntry {
  string event_id = 1;
  string command = 2;
  int32 exit_code = 3;
  int64 timestamp = 4;
  int32 shell_PID = 5;
  int64 shell_uptime = 6;
  string working_directory = 7;
  string prev_working_directory = 8;
  string user = 9;
  int32 EUID = 10;
  string term = 11;
  string hostname = 12;
  string SSH_client = 13;
  string TTY = 14;
  bool is_git_repo = 15;
  string git_repo_root = 16;
  string git_branch = 17;
  string git_commit = 18;
  string git_status = 19;
  bool logged_successfully = 20;
}

service LogService {
  rpc Log(LogEntry) returns (LogResponse);
}

message LogResponse {
  bool success = 1;
}
